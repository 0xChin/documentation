---
sidebar_position: 5
title: Utils
id: sdk-utils
---

# Class: NxtpSdkUtils

**`Classdesc`**

SDK class encapsulating utility functions.

## Hierarchy

- [`NxtpSdkShared`](NxtpSdkShared.md)

  ↳ **`NxtpSdkUtils`**

## Methods

### approveIfNeeded

▸ **approveIfNeeded**(`domainId`, `assetId`, `amount`, `infiniteApprove?`): `Promise`<`undefined` \| `TransactionRequest`\>

#### Parameters

| Name | Type | Default value |
| :------ | :------ | :------ |
| `domainId` | `string` | `undefined` |
| `assetId` | `string` | `undefined` |
| `amount` | `string` | `undefined` |
| `infiniteApprove` | `boolean` | `true` |

#### Returns

`Promise`<`undefined` \| `TransactionRequest`\>

#### Inherited from

[NxtpSdkShared](NxtpSdkShared.md).[approveIfNeeded](NxtpSdkShared.md#approveifneeded)

#### Defined in

[packages/agents/sdk/src/sdkShared.ts:65](https://github.com/connext/monorepo/blob/e16f6045f/packages/agents/sdk/src/sdkShared.ts#L65)

___

### calculateCanonicalKey

▸ **calculateCanonicalKey**(`domainId`, `canonicalId`): `string`

Returns the hash of the canonical id + domain.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `domainId` | `string` | The canonical domain id of the token. |
| `canonicalId` | `string` | The canonical id of the token. |

#### Returns

`string`

#### Inherited from

[NxtpSdkShared](NxtpSdkShared.md).[calculateCanonicalKey](NxtpSdkShared.md#calculatecanonicalkey)

#### Defined in

[packages/agents/sdk/src/sdkShared.ts:160](https://github.com/connext/monorepo/blob/e16f6045f/packages/agents/sdk/src/sdkShared.ts#L160)

___

### changeSignerAddress

▸ **changeSignerAddress**(`signerAddress`): `Promise`<`void`\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `signerAddress` | `string` |

#### Returns

`Promise`<`void`\>

#### Inherited from

[NxtpSdkShared](NxtpSdkShared.md).[changeSignerAddress](NxtpSdkShared.md#changesigneraddress)

#### Defined in

[packages/agents/sdk/src/sdkShared.ts:142](https://github.com/connext/monorepo/blob/e16f6045f/packages/agents/sdk/src/sdkShared.ts#L142)

___

### getAssetsData

▸ **getAssetsData**(): `Promise`<[`AssetData`](#assetdata)[]\>

#### Returns

`Promise`<[`AssetData`](#assetdata)[]\>

#### Inherited from

[NxtpSdkShared](NxtpSdkShared.md).[getAssetsData](NxtpSdkShared.md#getassetsdata)

#### Defined in

[packages/agents/sdk/src/sdkShared.ts:108](https://github.com/connext/monorepo/blob/e16f6045f/packages/agents/sdk/src/sdkShared.ts#L108)

___

### getAssetsDataByDomainAndKey

▸ **getAssetsDataByDomainAndKey**(`domainId`, `key`): `Promise`<`undefined` \| [`AssetData`](#assetdata)\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `domainId` | `string` |
| `key` | `string` |

#### Returns

`Promise`<`undefined` \| [`AssetData`](#assetdata)\>

#### Inherited from

[NxtpSdkShared](NxtpSdkShared.md).[getAssetsDataByDomainAndKey](NxtpSdkShared.md#getassetsdatabydomainandkey)

#### Defined in

[packages/agents/sdk/src/sdkShared.ts:116](https://github.com/connext/monorepo/blob/e16f6045f/packages/agents/sdk/src/sdkShared.ts#L116)

___

### getCanonicalTokenId

▸ **getCanonicalTokenId**(`domainId`, `tokenAddress`): `Promise`<[`string`, `string`]\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `domainId` | `string` |
| `tokenAddress` | `string` |

#### Returns

`Promise`<[`string`, `string`]\>

#### Inherited from

[NxtpSdkShared](NxtpSdkShared.md).[getCanonicalTokenId](NxtpSdkShared.md#getcanonicaltokenid)

#### Defined in

[packages/agents/sdk/src/sdkShared.ts:164](https://github.com/connext/monorepo/blob/e16f6045f/packages/agents/sdk/src/sdkShared.ts#L164)

___

### getRoutersData

▸ **getRoutersData**(): `Promise`<`any`\>

#### Returns

`Promise`<`any`\>

#### Defined in

[packages/agents/sdk/src/sdkUtils.ts:38](https://github.com/connext/monorepo/blob/e16f6045f/packages/agents/sdk/src/sdkUtils.ts#L38)

___

### getTransferById

▸ **getTransferById**(`transferId`): `Promise`<`any`\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `transferId` | `string` |

#### Returns

`Promise`<`any`\>

#### Defined in

[packages/agents/sdk/src/sdkUtils.ts:153](https://github.com/connext/monorepo/blob/e16f6045f/packages/agents/sdk/src/sdkUtils.ts#L153)

___

### getTransferByTransactionHash

▸ **getTransferByTransactionHash**(`transactionHash`): `Promise`<`any`\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `transactionHash` | `string` |

#### Returns

`Promise`<`any`\>

#### Defined in

[packages/agents/sdk/src/sdkUtils.ts:165](https://github.com/connext/monorepo/blob/e16f6045f/packages/agents/sdk/src/sdkUtils.ts#L165)

___

### getTransfers

▸ **getTransfers**(`params`): `Promise`<`any`\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `params` | `Object` |
| `params.range?` | `Object` |
| `params.range.limit?` | `number` |
| `params.range.offset?` | `number` |

#### Returns

`Promise`<`any`\>

#### Defined in

[packages/agents/sdk/src/sdkUtils.ts:76](https://github.com/connext/monorepo/blob/e16f6045f/packages/agents/sdk/src/sdkUtils.ts#L76)

___

### getTransfersByRouter

▸ **getTransfersByRouter**(`params`): `Promise`<`any`\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `params` | `Object` |
| `params.range?` | `Object` |
| `params.range.limit?` | `number` |
| `params.range.offset?` | `number` |
| `params.routerAddress` | `string` |
| `params.status?` | `XTransferStatus` |

#### Returns

`Promise`<`any`\>

#### Defined in

[packages/agents/sdk/src/sdkUtils.ts:123](https://github.com/connext/monorepo/blob/e16f6045f/packages/agents/sdk/src/sdkUtils.ts#L123)

___

### getTransfersByStatus

▸ **getTransfersByStatus**(`params`): `Promise`<`any`\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `params` | `Object` |
| `params.range?` | `Object` |
| `params.range.limit?` | `number` |
| `params.range.offset?` | `number` |
| `params.status` | `XTransferStatus` |

#### Returns

`Promise`<`any`\>

#### Defined in

[packages/agents/sdk/src/sdkUtils.ts:97](https://github.com/connext/monorepo/blob/e16f6045f/packages/agents/sdk/src/sdkUtils.ts#L97)

___

### getTransfersByUser

▸ **getTransfersByUser**(`params`): `Promise`<`any`\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `params` | `Object` |
| `params.range?` | `Object` |
| `params.range.limit?` | `number` |
| `params.range.offset?` | `number` |
| `params.status?` | `XTransferStatus` |
| `params.userAddress` | `string` |

#### Returns

`Promise`<`any`\>

#### Defined in

[packages/agents/sdk/src/sdkUtils.ts:46](https://github.com/connext/monorepo/blob/e16f6045f/packages/agents/sdk/src/sdkUtils.ts#L46)

___

### isNextAsset

▸ **isNextAsset**(`tokenAddress`): `Promise`<`undefined` \| `boolean`\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `tokenAddress` | `string` |

#### Returns

`Promise`<`undefined` \| `boolean`\>

#### Inherited from

[NxtpSdkShared](NxtpSdkShared.md).[isNextAsset](NxtpSdkShared.md#isnextasset)

#### Defined in

[packages/agents/sdk/src/sdkShared.ts:129](https://github.com/connext/monorepo/blob/e16f6045f/packages/agents/sdk/src/sdkShared.ts#L129)

___

### parseConnextTransactionReceipt

▸ **parseConnextTransactionReceipt**(`transactionReceipt`): `any`

#### Parameters

| Name | Type |
| :------ | :------ |
| `transactionReceipt` | `TransactionReceipt` |

#### Returns

`any`

#### Inherited from

[NxtpSdkShared](NxtpSdkShared.md).[parseConnextTransactionReceipt](NxtpSdkShared.md#parseconnexttransactionreceipt)

#### Defined in

[packages/agents/sdk/src/sdkShared.ts:146](https://github.com/connext/monorepo/blob/e16f6045f/packages/agents/sdk/src/sdkShared.ts#L146)

___

### create

▸ `Static` **create**(`_config`, `_logger?`, `_chainData?`): `Promise`<[`NxtpSdkUtils`](NxtpSdkUtils.md)\>

#### Parameters

| Name | Type | Description |
| :------ | :------ | :----- |
| `_config` | `Object` | Main config object. 
| `_config.network` | ``"testnet"`` \| ``"mainnet"`` | Whether to connect to mainnet or testnet deployments. 
| `_config.signerAddress` | `string` | The signer address used for write operations.
| `_config.chains` | `Object` | Contains mappings of domain ID to providers. See example below.


Example `_config`:
```typescript
{
  "network": "mainnet",
  "signerAddress": "<signer-address>",
  "chains": {
    "6648936": { // Ethereum
      "providers": ["https://rpc.ankr.com/eth"]
    },
    "1869640809": { // Optimism
      "providers": ["https://rpc.ankr.com/optimism"]
    },
    "1886350457": { // Polygon
      "providers": ["https://polygon-rpc.com"]
    }
  },
}
```

#### Returns

`Promise`<[`NxtpSdkUtils`](NxtpSdkUtils.md)\>

#### Defined in

[packages/agents/sdk/src/sdkUtils.ts:20](https://github.com/connext/monorepo/blob/e16f6045f/packages/agents/sdk/src/sdkUtils.ts#L20)

___

### domainToChainName

▸ `Static` **domainToChainName**(`domainId`): `string`

#### Parameters

| Name | Type |
| :------ | :------ |
| `domainId` | `string` |

#### Returns

`string`

#### Inherited from

[NxtpSdkShared](NxtpSdkShared.md).[domainToChainName](NxtpSdkShared.md#domaintochainname)

#### Defined in

[packages/agents/sdk/src/sdkShared.ts:53](https://github.com/connext/monorepo/blob/e16f6045f/packages/agents/sdk/src/sdkShared.ts#L53)

___

### getBlockNumberFromUnixTimestamp

▸ `Static` **getBlockNumberFromUnixTimestamp**(`domainId`, `unixTimestamp`): `Promise`<`number`\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `domainId` | `string` |
| `unixTimestamp` | `number` |

#### Returns

`Promise`<`number`\>

#### Inherited from

[NxtpSdkShared](NxtpSdkShared.md).[getBlockNumberFromUnixTimestamp](NxtpSdkShared.md#getblocknumberfromunixtimestamp)

#### Defined in

[packages/agents/sdk/src/sdkShared.ts:57](https://github.com/connext/monorepo/blob/e16f6045f/packages/agents/sdk/src/sdkShared.ts#L57)

## Type Aliases

### AssetData

Ƭ **AssetData**: `Object`

#### Type declaration

| Name | Type |
| :------ | :------ |
| `adopted` | `string` |
| `canonical_domain` | `string` |
| `canonical_id` | `string` |
| `domain` | `string` |
| `id` | `string` |
| `key` | `string` |
| `local` | `string` |

#### Defined in

[packages/agents/sdk/src/interfaces/index.ts:23](https://github.com/connext/monorepo/blob/e16f6045f/packages/agents/sdk/src/interfaces/index.ts#L23)